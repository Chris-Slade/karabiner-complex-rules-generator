(this["webpackJsonpkarabiner-complex-rules-generator"]=this["webpackJsonpkarabiner-complex-rules-generator"]||[]).push([[0],{83:function(e,t,a){e.exports=a(98)},88:function(e,t,a){},89:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(13),i=a.n(o),r=(a(88),a(89),a(90),a(149)),c=a(147),u=a(150),d=a(148),s=a(102),m=a(152),f=a(6),v=a(158),p=a(101),_=a(8),b=function(e){var t=(0|e)%100;return t>3&&t<21?"th":["th","st","nd","rd"][t%10]||"th"},y=function(e){return"".concat(e).concat(b(e))},E=function(e){for(var t=e.toLowerCase().split("_"),a=0;a<t.length;a++)t[a]=t[a][0].toUpperCase()+t[a].slice(1);return t.join(" ")},h=a(142),k=a(143),g=a(153),O=a(161),j=a(157),C=a(139),x=a(67),I=a.n(x),w=function(e){var t=e.title,a=e.children,n=e.panelProps,o=void 0===n?{}:n;return l.a.createElement(j.a,Object.assign({},o,{"aria-label":"Expand","aria-controls":"additional-actions3-content"}),l.a.createElement(C.a,{expandIcon:l.a.createElement(I.a,null)},t),l.a.createElement(m.a,{p:2},a))},S=a(145),T=function(e){var t,a,n=e.condition,o=e.setConditionState;return l.a.createElement(m.a,null,l.a.createElement(m.a,null,!!(null===n||void 0===n?void 0:null===(t=n.bundle_identifiers)||void 0===t?void 0:t.length)&&l.a.createElement(w,{panelProps:{defaultExpanded:!0},title:"Bundle Identifiers"},n.bundle_identifiers.map((function(e,t){return l.a.createElement(v.a,{key:t,value:e,fullWidth:!0,variant:"filled",label:"Regex Bundle Identifier ".concat(t+1),onChange:function(e){!function(e,t){var a=Object(f.a)({},n),l=Object(_.a)(a.bundle_identifiers);l[e]=t,a.bundle_identifiers=l,o(a)}(t,e.target.value)}})}))),!!(null===n||void 0===n?void 0:null===(a=n.file_paths)||void 0===a?void 0:a.length)&&l.a.createElement(w,{panelProps:{defaultExpanded:!0},title:"File Paths"},n.file_paths.map((function(e,t){return l.a.createElement(v.a,{key:t,value:e,fullWidth:!0,variant:"filled",label:"Regex File Path ".concat(t+1),onChange:function(e){!function(e,t){var a=Object(f.a)({},n),l=Object(_.a)(a.file_paths);l[e]=t,a.file_paths=l,o(a)}(t,e.target.value)}})})))),l.a.createElement(m.a,{mt:2},l.a.createElement(S.a,null,l.a.createElement(p.a,{variant:"contained",color:"primary",onClick:function(){var e=Object(f.a)({},n);e.bundle_identifiers=e.bundle_identifiers||[];var t=Object(_.a)(e.bundle_identifiers);t.push(""),e.bundle_identifiers=t,o(e)}},"Add Bundle Identifier"),l.a.createElement(p.a,{variant:"contained",color:"primary",onClick:function(){var e=Object(f.a)({},n);e.file_paths=e.file_paths||[];var t=Object(_.a)(e.file_paths);t.push(""),e.file_paths=t,o(e)}},"Add File Path"))))},A=a(10),F=a(146),W=a(156),D=function(e){var t,a=e.condition,n=e.setConditionState,o=function(e,t){var l=Object(f.a)({},a),o=Object(_.a)(l.identifiers);o[t]=e,l.identifiers=o,n(l)};return l.a.createElement(m.a,null,l.a.createElement(m.a,null,!!(null===a||void 0===a?void 0:null===(t=a.identifiers)||void 0===t?void 0:t.length)&&l.a.createElement(w,{panelProps:{defaultExpanded:!0},title:"Device Identifiers"},a.identifiers.map((function(e,t){return l.a.createElement(w,{title:"".concat(y(t+1)," Device Identifier"),key:t},["vendor_id","product_id","location_id"].map((function(a){return l.a.createElement(v.a,{key:a,fullWidth:!0,label:E(a)+" (Optional)",variant:"filled",value:e[a],onChange:function(n){o(Object(f.a)({},e,Object(A.a)({},a,n.target.value)),t)}})})),l.a.createElement(F.a,{control:l.a.createElement(W.a,{checked:!!e.is_keyboard,onChange:function(a){o(Object(f.a)({},e,{is_keyboard:a.target.checked}),t)}}),label:"Is Keyboard?"}),l.a.createElement(F.a,{control:l.a.createElement(W.a,{checked:!!e.is_pointing_device,onChange:function(a){o(Object(f.a)({},e,{is_pointing_device:a.target.checked}),t)}}),label:"Is Pointing Device?"}))})))),l.a.createElement(m.a,{mt:2},l.a.createElement(S.a,null,l.a.createElement(p.a,{variant:"contained",color:"primary",onClick:function(){var e=Object(f.a)({},a);e.identifiers=e.identifiers||[];var t=Object(_.a)(e.identifiers);t.push(""),e.identifiers=t,n(e)}},"Add Device Identifiers"))))},M=a(154),R=function(e){var t=e.condition,a=e.setConditionState;return l.a.createElement(m.a,null,l.a.createElement(m.a,null,l.a.createElement(M.a,{options:["ansi","iso","jis"],multiple:!0,freeSolo:!0,value:t.keyboard_types,onChange:function(e,n){a(Object(f.a)({},t,{keyboard_types:n}))},autoHighlight:!0,renderInput:function(e){return l.a.createElement(v.a,Object.assign({},e,{variant:"filled",fullWidth:!0,label:"Keyboard Type"}))}})))},P=function(e){var t=e.condition,a=e.setConditionState;return l.a.createElement(m.a,null,l.a.createElement(v.a,{fullWidth:!0,label:"Variable Name",variant:"filled",value:t.name,onChange:function(e){a(Object(f.a)({},t,{name:e.target.value}))}}),l.a.createElement(v.a,{fullWidth:!0,label:"Variable Value",variant:"filled",value:t.value,onChange:function(e){a(Object(f.a)({},t,{value:e.target.value}))}}))},L=function(e){e.condition,e.setConditionState;return l.a.createElement(m.a,null,"Unknown")},B=a(100),K=a(160),N=a(155),U=function(e){var t=e.condition,a=e.setConditionState;return l.a.createElement(m.a,{mt:2},l.a.createElement(h.a,{component:"fieldset"},l.a.createElement(B.a,{component:"legend"},"Value"),l.a.createElement(K.a,{defaultValue:"true",onChange:function(e){a(Object(f.a)({},t,{value:e.target.value}))}},l.a.createElement(F.a,{label:"true",value:"true",control:l.a.createElement(N.a,null)}),l.a.createElement(F.a,{label:"false",value:"false",control:l.a.createElement(N.a,null)}))))},J=["frontmost_application_if","frontmost_application_unless","device_if","device_unless","keyboard_type_if","keyboard_type_unless","input_source_if","input_source_unless","variable_if","variable_unless","event_changed_if","event_changed_unless"],H=function(e){var t=e.condition,a=e.index,n=e.setManipulator,o=e.manipulator,i=function(e){var t=Object(f.a)({},o),l=Object(_.a)(o.conditions);l[a]=e,t.conditions=l,n(t)};return l.a.createElement(w,{panelProps:{defaultExpanded:0===a},title:"".concat(y(a+1)," Condition")},l.a.createElement(h.a,{fullWidth:!0,variant:"filled"},l.a.createElement(k.a,{id:"condition_type"},"Condition Type"),l.a.createElement(g.a,{labelId:"condition_type",value:t.type,onChange:function(e){i(Object(f.a)({},t,{type:e.target.value}))}},J.map((function(e){return l.a.createElement(O.a,{value:e,key:e},E(e))})))),l.a.createElement(v.a,{fullWidth:!0,variant:"filled",label:"Condition Description (optional)",value:t.description,onChange:function(e){i(Object(f.a)({},t,{description:e.target.value}))}}),0===t.type.indexOf("frontmost")&&l.a.createElement(T,{condition:t,setConditionState:i}),0===t.type.indexOf("device")&&l.a.createElement(D,{condition:t,setConditionState:i}),0===t.type.indexOf("keyboard")&&l.a.createElement(R,{condition:t,setConditionState:i}),0===t.type.indexOf("input_source")&&l.a.createElement(L,{condition:t,setConditionState:i}),0===t.type.indexOf("variable")&&l.a.createElement(P,{condition:t,setConditionState:i}),0===t.type.indexOf("event_changed")&&l.a.createElement(U,{condition:t,setConditionState:i}))},V=[{label:"Function key",value:"fn"},{label:"Left Command",value:"left_gui"},{label:"Right Command",value:"right_gui"},{label:"Left Control",value:"left_control"},{label:"Right Control",value:"right_control"},{label:"Left Alt / Option",value:"left_alt"},{label:"Right Alt / Option",value:"right_alt"},{label:"Left Shift",value:"left_shift"},{label:"Right Shift",value:"right_shift"}],z=[{label:"1",value:"1"},{label:"2",value:"2"},{label:"3",value:"3"},{label:"4",value:"4"},{label:"5",value:"5"},{label:"6",value:"6"},{label:"7",value:"7"},{label:"8",value:"8"},{label:"9",value:"9"},{label:"0",value:"0"},{label:"A",value:"a"},{label:"B",value:"b"},{label:"C",value:"c"},{label:"D",value:"d"},{label:"E",value:"e"},{label:"F",value:"f"},{label:"G",value:"g"},{label:"H",value:"h"},{label:"I",value:"i"},{label:"J",value:"j"},{label:"K",value:"k"},{label:"L",value:"l"},{label:"M",value:"m"},{label:"N",value:"n"},{label:"O",value:"o"},{label:"P",value:"p"},{label:"Q",value:"q"},{label:"R",value:"r"},{label:"S",value:"s"},{label:"T",value:"t"},{label:"U",value:"u"},{label:"V",value:"v"},{label:"W",value:"w"},{label:"X",value:"x"},{label:"Y",value:"y"},{label:"Z",value:"z"},{label:"F1",value:"f1"},{label:"F2",value:"f2"},{label:"F3",value:"f3"},{label:"F4",value:"f4"},{label:"F5",value:"f5"},{label:"F6",value:"f6"},{label:"F7",value:"f7"},{label:"F8",value:"f8"},{label:"F9",value:"f9"},{label:"F10",value:"f10"},{label:"F11",value:"f11"},{label:"F12",value:"f12"},{label:"Escape",value:"escape"},{label:"` Grave Accent, Tilde",value:"grave_accent_and_tilde"},{label:"Tab key",value:"tab"},{label:"Caps Lock",value:"caps_lock"},{label:"Spacebar",value:"spacebar"},{label:"Up Arrow",value:"up_arrow"},{label:"Left Arrow",value:"left_arrow"},{label:"Down Arrow",value:"down_arrow"},{label:"Right Arrow",value:"right_arrow"},{label:"Enter",value:"return_or_enter"},{label:" (Backslash)",value:"backslash"},{label:"[ (Open Bracket)",value:"open_bracket"},{label:"] (Close Bracket)",value:"close_bracket"},{label:"; (Semicolon)",value:"semicolon"},{label:"' (Quote)",value:"quote"},{label:", (Comma)",value:"comma"},{label:". (Period)",value:"period"},{label:"/ (Slash)",value:"slash"},{label:"- (Dash or Hyphen)",value:"hyphen"},{label:"= (Equal)",value:"equal_sign"},{label:"Delete or Backspace",value:"delete_or_backspace"},{label:"Decrease Screen Brightness",value:"display_brightness_decrement"},{label:"Increase Screen Brightness",value:"display_brightness_increment"},{label:"Mission Control",value:"mission_control"},{label:"Launchpad",value:"launchpad"},{label:"Keyboard Brightness Decrease",value:"illumination_decrement"},{label:"Keyboard Brightness Increase",value:"illumination_increment"},{label:"Rewind / Previous",value:"rewind"},{label:"Play or Pause",value:"play_or_pause"},{label:"Fastfoward / Next",value:"fastforwad"},{label:"Mute",value:"mute"},{label:"Volume Down",value:"volume_decrement"},{label:"Volume Up",value:"volume_increment"}],q=[].concat(V,z),G=function(e){var t=e.value,a=void 0===t?[]:t,n=e.onChange,o=void 0===n?function(e){}:n,i=e.modifiers,r=void 0!==i&&i,c=e.keyCodes,u=void 0!==c&&c,d=e.multiple,s=void 0===d||d,m=e.autoHighlight,f=void 0!==m&&m,p=e.freeSolo,b=void 0===p||p,y=e.label,E=void 0===y?"keys":y,h=[],k=[];return u&&(h=[].concat(Object(_.a)(h),Object(_.a)(z)),k.push("Key Codes")),r&&(h=[].concat(Object(_.a)(h),Object(_.a)(V)),k.push("Modifiers")),l.a.createElement(M.a,{multiple:s,freeSolo:b,options:h,getOptionLabel:function(e){return("object"===typeof e?e.label:e)||""},value:"string"===typeof a?[a]:a,onChange:o,autoHighlight:f,renderInput:function(e){return l.a.createElement(v.a,Object.assign({},e,{variant:"filled",label:E,placeholder:k.join(", "),fullWidth:!0}))}})},Q=a(15),Y=[{label:"None",value:""},{label:"Left Click",value:"button1"},{label:"Right Click",value:"button2"},{label:"Middle Click",value:"button3"},{label:"Mouse 4",value:"button4"},{label:"Mouse 5",value:"button5"}],X=function(e){var t=e.eventObject,a=void 0===t?{}:t,o=e.setEventObject,i=void 0===o?function(e){}:o,r=Object(n.useState)({keyCode:!1,consumerKeyCode:!1}),c=Object(Q.a)(r,2),u=c[0],d=c[1];return Object(n.useEffect)((function(){var e={keyCode:!!a.key_code,consumerKeyCode:!!a.consumer_key_code};console.log(a.key_code),d(e)}),[a.consumer_key_code,a.key_code]),Object(n.useMemo)((function(){return l.a.createElement(m.a,{marginBottom:2},l.a.createElement(S.a,null,l.a.createElement(p.a,{disabled:u.keyCode,variant:"contained",onClick:function(){d(Object(f.a)({},u,{keyCode:!0,consumerKeyCode:!1}))}},"Key Code"),l.a.createElement(p.a,{disabled:u.consumerKeyCode,variant:"contained",onClick:function(){d(Object(f.a)({},u,{keyCode:!1,consumerKeyCode:!0}))}},"Consumer Key Code"),l.a.createElement(p.a,{variant:"contained",onClick:function(){d(Object(f.a)({},u,{keyCode:!1,consumerKeyCode:!1}))},disabled:!(u.keyCode||u.consumerKeyCode),color:"secondary"},"Disable")),l.a.createElement(m.a,{marginBottom:1},u.keyCode&&l.a.createElement(m.a,{marginTop:2,marginBottom:3},l.a.createElement(G,{keyCodes:!0,modifiers:!0,multiple:!1,value:a.key_code,autoHighlight:!1,label:"Key Code (optional)",onChange:function(e,t){i(Object(f.a)({},a,{key_code:"string"===typeof t?{label:t,value:t}:t}))}})),u.consumerKeyCode&&l.a.createElement(v.a,{placeholder:"",margin:"normal",variant:"filled",label:"Consumer Key Code (optional)",fullWidth:!0,value:a.consumer_key_code||"",onChange:function(e){i(Object(f.a)({},a,{consumer_key_code:e.currentTarget.value}))}})),l.a.createElement(m.a,{mt:2,mb:3},l.a.createElement(h.a,{variant:"filled",fullWidth:!0},l.a.createElement(k.a,{id:"type"},"Pointing Button (optional)"),l.a.createElement(g.a,{labelId:"type",value:a.pointing_button||"",onChange:function(e){i(Object(f.a)({},a,{pointing_button:e.target.value||""}))}},Y.map((function(e){var t=e.label,a=e.value;return l.a.createElement(O.a,{value:a,key:a},t)}))))))}),[u,a])},Z=a(19),$=a(70),ee={type:"basic",from:{modifiers:{mandatory:[],optional:[]},simultaneous:[],simultaneous_options:{detect_key_down_uninterruptedly:!1,to_after_key_up:[]}},conditions:[],to:[],to_after_key_up:[],to_if_alone:[],to_if_held_down:[],to_delayed_action:{to_if_invoked:[],to_if_canceled:[]}},te=function(){return{description:"",manipulators:[ee]}},ae={title:"",rules:[te()]},ne=function(e){return{type:"SET_WHOLE_STATE",payload:{state:e}}},le=function(e){return{type:"SET_MANIPULATOR",payload:{ruleIndex:e.ruleIndex,index:e.index,manipulator:e.manipulator}}},oe=function(e){return{type:"ADD_TO_OBJECT",payload:{ruleIndex:e.ruleIndex,manipulatorIndex:e.manipulatorIndex,toField:e.toField}}},ie=a(71),re=a.n(ie),ce=function(e){var t=e.toObject,a=e.setToObject,o=e.removeToObject,i=e.index,r=e.toField,c=Object(n.useState)({keyCode:!1,consumerKeyCode:!1,pointingButton:!1,simultaneous:!1,simultaneousOptions:!1}),u=Object(Q.a)(c,2),d=u[0];u[1];return Object(n.useEffect)((function(){var e,a,n=Object(f.a)({},t);("disabled"===n.pointing_button&&delete n.pointing_button,!d.keyCode&&n.key_code)?delete n.key_code:n.key_code=null===(a=n.key_code)||void 0===a?void 0:a.value;!d.consumerKeyCode&&n.consumer_key_code&&delete n.consumer_key_code,(null===(e=n.modifiers)||void 0===e?void 0:e.length)?("string"===typeof n.modifiers&&(n.modifiers=[n.modifiers]),n.modifiers=n.modifiers.map((function(e){return e.value}))):delete n.modifiers,!1===n.lazy&&delete n.lazy,!0===n.repeat&&delete n.repeat,!1===n.halt&&delete n.halt}),[t,d]),l.a.createElement(w,{title:"".concat(i+1).concat(b(i+1),' "').concat(E(r),'" Event')},l.a.createElement(m.a,{className:"form-container"},l.a.createElement(X,{setEventObject:a,eventObject:t}),l.a.createElement(G,{freeSolo:!1,modifiers:!0,value:t.modifiers,label:"Modifiers",onChange:function(e,n){a(Object(f.a)({},t,{modifiers:n.map((function(e){return"string"===typeof e?{label:e,value:e}:e}))}))}}),l.a.createElement(h.a,{fullWidth:!0},l.a.createElement(B.a,null,"Additional Options"),l.a.createElement(F.a,{label:"Lazy",control:l.a.createElement(W.a,{checked:!!t.lazy,onChange:function(e){a(Object(f.a)({},t,{lazy:e.target.checked}))}})}),l.a.createElement(F.a,{label:"Repeat",control:l.a.createElement(W.a,{checked:!!t.repeat,onChange:function(e){a(Object(f.a)({},t,{repeat:e.target.checked}))}})}),l.a.createElement(F.a,{label:"Halt",control:l.a.createElement(W.a,{checked:!!t.halt,onChange:function(e){a(Object(f.a)({},t,{halt:e.target.checked}))}})})),l.a.createElement(p.a,{color:"secondary",variant:"contained",onClick:function(){return o()},startIcon:l.a.createElement(re.a,null)},"Remove")))},ue=["none","insensitive","strict","strict_inverse"],de=["none","any","all"],se=function(e){var t=e.fromObject,a=e.ruleIndex,o=e.manipulatorIndex,i=Object(Z.b)(),r=function(e){var t;i({type:"SET_FROM_OBJECT",payload:{ruleIndex:(t={ruleIndex:a,manipulatorIndex:o,fromObject:e}).ruleIndex,manipulatorIndex:t.manipulatorIndex,fromObject:t.fromObject}})},c=function(e,a,n){r(Object(f.a)({},t,{modifiers:Object(f.a)({},t.modifiers,Object(A.a)({},n,a.map((function(e){return"string"===typeof e?{label:e,value:e}:e}))))}))};return Object(n.useMemo)((function(){var e,a,n,o,i,u,d,s,v;return l.a.createElement(m.a,{className:"form-container"},l.a.createElement(X,{setEventObject:r,eventObject:t}),l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(G,{modifiers:!0,value:(null===(e=t.modifiers)||void 0===e?void 0:e.mandatory)||[],label:"Mandatory Modifiers (optional)",onChange:function(e,t){return c(0,t,"mandatory")}})),l.a.createElement("div",null,l.a.createElement(G,{modifiers:!0,keyCodes:!0,value:(null===(a=t.modifiers)||void 0===a?void 0:a.optional)||[],label:"Optional Modifiers (optional)",onChange:function(e,t){return c(0,t,"optional")}}))),l.a.createElement(m.a,null,null===(n=t.simultaneous)||void 0===n?void 0:n.map((function(e,a){return l.a.createElement(w,{key:a,panelProps:{defaultExpanded:0===a},title:"".concat(y(a+1)," Simultaneous Event")},l.a.createElement(X,{eventObject:e,setEventObject:function(e){var n,l=Object(f.a)({},t);if(null===l||void 0===l?void 0:null===(n=l.simultaneous)||void 0===n?void 0:n.length){var o=Object(_.a)(l.simultaneous);o[a]=e,l.simultaneous=o,r(l)}}}),l.a.createElement(p.a,{variant:"contained",color:"secondary",onClick:function(){var e,n=Object(f.a)({},t);if(null===n||void 0===n?void 0:null===(e=n.simultaneous)||void 0===e?void 0:e.length){var l=Object(_.a)(n.simultaneous);l.splice(a,1),n.simultaneous=l,r(n)}}},"Remove Simultaneous"))})),l.a.createElement(m.a,{mt:1,mb:1},l.a.createElement(p.a,{variant:"contained",color:"default",fullWidth:!0,onClick:function(){return function(){var e=Object(f.a)({},t);e.simultaneous=e.simultaneous||[],e.simultaneous=[].concat(Object(_.a)(e.simultaneous),[{}]),r(e)}()}},"Add Simultaneous Event"))),l.a.createElement(m.a,null,l.a.createElement(w,{title:"Simultaneous Options"},l.a.createElement(F.a,{control:l.a.createElement(W.a,{checked:!!(null===t||void 0===t?void 0:null===(o=t.simultaneous_options)||void 0===o?void 0:o.detect_key_down_uninterruptedly),onChange:function(e){r(Object(f.a)({},t,{simultaneous_options:Object(f.a)({},t.simultaneous_options,{detect_key_down_uninterruptedly:e.target.checked})}))}}),label:"Detect Key Down Uninterruptedly"}),l.a.createElement(h.a,{fullWidth:!0,variant:"filled"},l.a.createElement(k.a,{id:"key_down_order"},"Key Down Order"),l.a.createElement(g.a,{labelId:"key_down_order",value:null===(i=t.simultaneous_options)||void 0===i?void 0:i.key_down_order,onChange:function(e){r(Object(f.a)({},t,{simultaneous_options:Object(f.a)({},t.simultaneous_options,{key_down_order:e.target.value})}))}},ue.map((function(e){return l.a.createElement(O.a,{value:e,key:e},E(e))})))),l.a.createElement(h.a,{fullWidth:!0,variant:"filled"},l.a.createElement(k.a,{id:"key_up_order"},"Key Up Order"),l.a.createElement(g.a,{labelId:"key_up_order",value:null===(u=t.simultaneous_options)||void 0===u?void 0:u.key_up_order,onChange:function(e){r(Object(f.a)({},t,{simultaneous_options:Object(f.a)({},t.simultaneous_options,{key_up_order:e.target.value})}))}},ue.map((function(e){return l.a.createElement(O.a,{value:e,key:e},E(e))})))),l.a.createElement(h.a,{fullWidth:!0,variant:"filled"},l.a.createElement(k.a,{id:"key_up_when"},"Key Up When"),l.a.createElement(g.a,{labelId:"key_up_when",value:null===(d=t.simultaneous_options)||void 0===d?void 0:d.key_up_when,onChange:function(e){r(Object(f.a)({},t,{simultaneous_options:Object(f.a)({},t.simultaneous_options,{key_up_when:e.target.value})}))}},de.map((function(e){return l.a.createElement(O.a,{value:e,key:e},E(e))})))),l.a.createElement(m.a,{mt:1},null===(s=t.simultaneous_options)||void 0===s?void 0:null===(v=s.to_after_key_up)||void 0===v?void 0:v.map((function(e,a){return l.a.createElement(ce,{toObject:e,setToObject:function(e){var n=Object(f.a)({},t),l=Object(_.a)(n.simultaneous_options.to_after_key_up);l[a]=e,n.simultaneous_options={to_after_key_up:l},r(n)},removeToObject:function(){},index:a,toField:"to_after_key_up",key:a})})),l.a.createElement(p.a,{color:"default",variant:"contained",fullWidth:!0,onClick:function(){var e=Object(f.a)({},t),a=Object(f.a)({},e.simultaneous_options),n=a.to_after_key_up?Object(_.a)(a.to_after_key_up):[];n.push({}),a.to_after_key_up=n,e.simultaneous_options=a,r(e)}},"Add to_after_key_up event")))))}),[t])},me=["to","to_if_alone","to_if_held_down","to_after_key_up"],fe=["to_if_invoked","to_if_canceled"],ve=function(e){var t=e.to,a=e.index,n=e.toField,o=e.manipulator,i=e.ruleIndex,r=e.manipulatorIndex,c=Object(f.a)({},t),u=Object(Z.b)(),d=function(e){return u(le({manipulator:e,ruleIndex:i,index:r}))},s={toObject:c,setToObject:function(e){var t=Object(f.a)({},o);if(fe.includes(n)){var l=Object(f.a)({},t.to_delayed_action);l[n]=Object(_.a)(l[n]),l[n][a]=e,t.to_delayed_action=l}else{var i=Object(_.a)(t[n]);i[a]=e,t[n]=i}d(t)},removeToObject:function(){var e=Object(f.a)({},o);if(fe.includes(n)){var t=Object(f.a)({},e.to_delayed_action);t[n]=Object(_.a)(t[n]),t[n].splice(a,1),e.to_delayed_action=t}else{var l=Object(_.a)(e[n]);l.splice(a,1),e[n]=l}d(e)},index:a,toField:n};return l.a.createElement(ce,Object.assign({},s,{key:a}))},pe=function(e){var t,a,n,o,i=e.manipulator,r=e.ruleIndex,c=e.manipulatorIndex,u=Object(Z.b)(),d=function(e){u(oe({manipulatorIndex:c,ruleIndex:r,toField:e}))},s=((null===i||void 0===i?void 0:null===(t=i.to_delayed_action)||void 0===t?void 0:null===(a=t.to_if_canceled)||void 0===a?void 0:a.length)||0)+((null===i||void 0===i?void 0:null===(n=i.to_delayed_action)||void 0===n?void 0:null===(o=n.to_if_invoked)||void 0===o?void 0:o.length)||0);return l.a.createElement(m.a,null,me.map((function(e,t){var a;return l.a.createElement(m.a,{mb:2,key:e},(null===(a=i[e])||void 0===a?void 0:a.length)?l.a.createElement(w,{key:t,title:"".concat(i[e].length,' "').concat(E(e),'" Events')},i[e].map((function(t,a){return l.a.createElement(ve,{to:t,index:a,toField:e,key:a,ruleIndex:r,manipulatorIndex:c,manipulator:i})})),l.a.createElement(m.a,{mt:2},l.a.createElement(p.a,{variant:"contained",color:"primary",onClick:function(){d(e)},fullWidth:!0},"add ",e," event"))):l.a.createElement(m.a,{mt:2},l.a.createElement(p.a,{variant:"contained",color:"primary",onClick:function(){d(e)},fullWidth:!0},"add ",e," event")))})),l.a.createElement(w,{title:"".concat(s,' "To Delayed Action" Events')},fe.map((function(e){var t,a;return l.a.createElement(m.a,{key:e},(null===i||void 0===i?void 0:null===(t=i.to_delayed_action)||void 0===t?void 0:null===(a=t[e])||void 0===a?void 0:a.length)?l.a.createElement(w,{key:e,title:"".concat(i.to_delayed_action[e].length,' "').concat(E(e),'" Events')},i.to_delayed_action[e].map((function(t,a){return l.a.createElement(ve,{to:t,index:a,toField:e,key:a,ruleIndex:r,manipulatorIndex:c,manipulator:i})})),l.a.createElement(m.a,{mt:2},l.a.createElement(p.a,{variant:"contained",color:"primary",size:"small",onClick:function(){d(e)}},"Add ",e," Event"))):l.a.createElement(m.a,{mb:2},l.a.createElement(p.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:function(){d(e)}},"Add ",e," Event")))}))))},_e=function(e){var t=e.label,a=e.value,o=e.options,i=e.onChange,r=void 0===i?function(){}:i;return Object(n.useMemo)((function(){return l.a.createElement(h.a,{variant:"filled",fullWidth:!0},l.a.createElement(k.a,{id:"type"},t),l.a.createElement(g.a,{labelId:"type",value:a,onChange:r},o.map((function(e){return l.a.createElement(O.a,{value:e,key:e},E(e))}))))}),[t,a,o])},be=["basic","frontmost_application_if","frontmost_application_unless","device_if","device_unless","keyboard_type_if","keyboard_type_unless","input_source_if","input_source_unless","variable_if","variable_unless","event_changed_if","event_changed_unless"],ye=function(e){var t=e.manipulator,a=e.ruleIndex,o=e.index,i=Object(Z.b)(),r=function(e){i(le({ruleIndex:a,index:o,manipulator:e}))};return Object(n.useMemo)((function(){var e;return l.a.createElement(w,{panelProps:{defaultExpanded:!0},title:"".concat(y(o+1)," Manipulator")},l.a.createElement(_e,{label:"Type",value:t.type,options:be,onChange:function(e){i(le({manipulator:Object(f.a)({},t,{type:e.target.value}),index:o,ruleIndex:a}))}}),l.a.createElement(w,{panelProps:{defaultExpanded:!0},title:'"From" Event'},l.a.createElement(se,{fromObject:t.from,manipulatorIndex:o,ruleIndex:a})),l.a.createElement(pe,{manipulator:t,ruleIndex:a,manipulatorIndex:o}),!!(null===(e=t.conditions)||void 0===e?void 0:e.length)&&l.a.createElement(w,{panelProps:{defaultExpanded:!0},title:"Rule Conditions"},t.conditions.map((function(e,a){return l.a.createElement(H,{key:a,index:a,condition:e,setManipulator:r,manipulator:t})}))),l.a.createElement(m.a,{marginTop:1},l.a.createElement(p.a,{color:"primary",variant:"contained",fullWidth:!0,onClick:function(){!function(){var e=Object(f.a)({},t);e.conditions=e.conditions||[];var a=Object(_.a)(e.conditions);a.push({type:"frontmost_application_if"}),e.conditions=a,r(e)}()}},"Add Condition")))}),[t])},Ee=function(e){var t=e.rule,a=e.index,o=Object(Z.b)();return Object(n.useMemo)((function(){return l.a.createElement(w,{title:l.a.createElement(v.a,{label:"".concat(y(a+1)," Rule Description"),value:t.description,onClick:function(e){return e.stopPropagation()},onFocus:function(e){return e.stopPropagation()},onChange:function(e){return o(function(e,t){return{type:"SET_RULE",payload:{index:e,rule:t}}}(a,Object(f.a)({},t,{description:e.target.value})))},multiline:!0,fullWidth:!0}),panelProps:{defaultExpanded:0===a}},l.a.createElement(m.a,{justifyContent:"flex-end"},l.a.createElement(p.a,{variant:"text",size:"small",color:"secondary",onClick:function(){return o(function(e){return{type:"REMOVE_RULE",payload:{index:e}}}(a))}},"Delete Rule!")),l.a.createElement(m.a,{mt:2},t.manipulators.map((function(e,t){return l.a.createElement(ye,{manipulator:e,key:t,index:t,ruleIndex:a})}))),l.a.createElement(m.a,{mt:2},l.a.createElement(p.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){return o({type:"ADD_MANIPULATOR",payload:{ruleIndex:a}})}},"Add Manipulator")))}),[t])},he=a(72),ke=a.n(he),ge=a(35),Oe=a.n(ge),je=["to","to_if_alone","to_if_held_down","to_after_key_up"],Ce=function(e){var t;return"string"===typeof e?t=JSON.parse(e):"object"===typeof e&&(t=Object(f.a)({},e)),t.rules=t.rules.map((function(e){return e.description=e.description||"",e.manipulators=e.manipulators||[],e.manipulators=e.manipulators.map((function(e){if(e.type=e.type||"basic",e.from=e.from||{modifiers:{mandatory:[],optional:[]},simultaneous:[],simultaneous_options:{detect_key_down_uninterruptedly:!1,to_after_key_up:[]}},"string"===typeof e.from.key_code){var t=e.from.key_code;e.from.key_code=Oe.a.find(q,{value:t})||{label:t,value:t}}return e.conditions=e.conditions||[],e.to=e.to||[],e.to_after_key_up=e.to_after_key_up||[],e.to_if_alone=e.to_if_alone||[],e.to_if_held_down=e.to_if_held_down||[],e.to_delayed_action=e.to_delayed_action||{to_if_invoked:[],to_if_canceled:[]},e})),e})),t},xe=function(e){return"string"===typeof e?e:e.value||""},Ie=function(e){return e.map(xe)},we=function(e){var t,a=Object(f.a)({},e);return(null===e||void 0===e?void 0:null===(t=e.description)||void 0===t?void 0:t.length)||delete e.description,e.manipulators=e.manipulators.map((function(e){var t,a,n,l,o;return e.from=function(e){var t,a,n,l,o=Object(f.a)({},e);if(!Oe.a.isEmpty(o)){if("object"===typeof o.key_code&&(o.key_code=xe(o.key_code)),o.modifiers){var i;if(o.modifiers.mandatory)0===(null===(i=o.modifiers.mandatory)||void 0===i?void 0:i.length)?delete o.modifiers.mandatory:("string"===typeof o.modifiers.mandatory&&(o.modifiers.mandatory=[o.modifiers.mandatory]),o.modifiers.mandatory=Ie(o.modifiers.mandatory));o.modifiers.optional&&(0===o.modifiers.optional.length?delete o.modifiers.optional:("string"===typeof o.modifiers.optional&&(o.modifiers.optional=[o.modifiers.optional]),o.modifiers.optional=Ie(o.modifiers.optional)))}return 0===(null===o||void 0===o?void 0:null===(t=o.simultaneous_options)||void 0===t?void 0:null===(a=t.to_after_key_up)||void 0===a?void 0:a.length)&&delete o.simultaneous_options.to_after_key_up,0===(null===o||void 0===o?void 0:null===(n=o.simultaneous)||void 0===n?void 0:n.length)&&delete o.simultaneous,(null===o||void 0===o?void 0:null===(l=o.simultaneous)||void 0===l?void 0:l.length)&&(o.simultaneous=o.simultaneous.map((function(e){return e.key_code&&(e.key_code=xe(e.key_code)),e}))),Oe.a.isEqual(o.simultaneous_options,{detect_key_down_uninterruptedly:!1})&&delete o.simultaneous_options,o.pointing_button&&"disabled"!==o.pointing_button||delete o.pointing_button,Oe.a.isEmpty(o.modifiers)&&delete o.modifiers,o}}(e.from),je.forEach((function(t){var a;e[t]&&(0!==(null===(a=e[t])||void 0===a?void 0:a.length)?e[t]=e[t].map((function(e){return function(e){var t,a=Object(f.a)({},e);return"object"===typeof a.key_code&&(a.key_code=xe(e.key_code)),(null===(t=a.modifiers)||void 0===t?void 0:t.length)&&(a.modifiers=Ie(a.modifiers)),a}(e)})):delete e[t])})),0===(null===e||void 0===e?void 0:null===(t=e.to_delayed_action)||void 0===t?void 0:null===(a=t.to_if_invoked)||void 0===a?void 0:a.length)&&delete e.to_delayed_action.to_if_invoked,0===(null===e||void 0===e?void 0:null===(n=e.to_delayed_action)||void 0===n?void 0:null===(l=n.to_if_canceled)||void 0===l?void 0:l.length)&&delete e.to_delayed_action.to_if_canceled,Oe.a.isEmpty(null===e||void 0===e?void 0:e.to_delayed_action)&&delete e.to_delayed_action,0===(null===e||void 0===e?void 0:null===(o=e.conditions)||void 0===o?void 0:o.length)&&delete e.conditions,e})),a},Se=function(){var e=Object(Z.c)((function(e){return e})),t=Object(Z.b)();Object(n.useEffect)((function(){try{var e=JSON.parse(window.atob(window.location.href.slice(window.location.href.indexOf("#")+1)));t(ne(Ce(e)))}catch(a){}}),[]);var a=function(e){var t=Oe.a.cloneDeep(e);return t.rules=t.rules.map((function(e){return we(e)})),t}(e),o=Object(n.useMemo)((function(){return l.a.createElement(m.a,{m:1},l.a.createElement(v.a,{fullWidth:!0,onChange:function(e){return t({type:"SET_TITLE",payload:{title:e.target.value}})},value:e.title,variant:"outlined",label:"Modification Title"}))}),[e.title]);return l.a.createElement(c.a,{className:"app-container"},l.a.createElement(d.a,{container:!0,direction:"row",justify:"space-between"},l.a.createElement(d.a,{item:!0,xs:8,className:"form-wrapper"},o,l.a.createElement(m.a,{p:1},e.rules.map((function(e,t){return l.a.createElement(Ee,{index:t,key:t,rule:e})})),l.a.createElement(m.a,{mt:2},l.a.createElement(p.a,{onClick:function(){return t({type:"ADD_RULE"})},fullWidth:!0,color:"primary",variant:"contained",startIcon:l.a.createElement(ke.a,null)},"Rule")))),l.a.createElement(d.a,{container:!0,xs:4,item:!0,direction:"column"},l.a.createElement(m.a,{p:2},l.a.createElement(s.a,null,"Your Modification"),l.a.createElement("textarea",{className:"generated-code",readOnly:!0,value:JSON.stringify(a,null,2)}),l.a.createElement(m.a,{mt:1,mb:1},l.a.createElement(S.a,{fullWidth:!0},l.a.createElement(p.a,{onClick:function(){var e=window.btoa(JSON.stringify(a)),t="karabiner://karabiner/assets/complex_modifications/import?url=data:application/json;charset=utf-8;base64,".concat(e);window.location.href=t},color:"primary",variant:"contained"},"Install!"),l.a.createElement(p.a,{onClick:function(){var e=window.btoa(JSON.stringify(a));window.history.replaceState(void 0,"","#"+e),alert("copy the url in your addess bar to share")},color:"primary",variant:"contained"},"Share!"))),l.a.createElement("textarea",{placeholder:"Paste existing modification here to edit",className:"paste-code",onBlur:function(e){try{e.target.value&&t(ne(Ce(e.target.value)))}catch(e){console.log({e:e})}}})))))},Te=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(r.a,{position:"static"},l.a.createElement(c.a,null,l.a.createElement(u.a,{variant:"dense"},l.a.createElement(d.a,{xs:!0,item:!0},l.a.createElement(s.a,null,"Karabiner Complex Modification | Still a work in progress")),l.a.createElement(d.a,{xs:3,item:!0,container:!0,justify:"flex-end"},l.a.createElement("a",{className:"github-button",href:"https://github.com/genesy/karabiner-complex-rules-generator","data-icon":"octicon-star","data-size":"large","data-show-count":"true","aria-label":"Star genesy/karabiner-complex-rules-generator on GitHub"},"Star"))))),l.a.createElement(m.a,{marginTop:1},l.a.createElement(Se,null)))},Ae=a(55),Fe=Object(Ae.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;return Object($.a)(e,(function(e){switch(t.type){case"SET_WHOLE_STATE":e.title=t.payload.state.title,e.rules=t.payload.state.rules;break;case"REMOVE_RULE":e.rules.splice(t.payload.index,1);break;case"SET_TITLE":e.title=t.payload.title;break;case"ADD_RULE":e.rules.push(te());break;case"SET_RULE":if(t.payload){var a=t.payload,n=a.rule,l=a.index;e.rules[l]=n}break;case"ADD_MANIPULATOR":if(t.payload){var o=t.payload.ruleIndex;e.rules[o].manipulators.push(ee)}break;case"SET_MANIPULATOR":if(t.payload){var i=t.payload,r=i.ruleIndex,c=i.index,u=i.manipulator;e.rules[r].manipulators[c]=u}break;case"SET_FROM_OBJECT":if(t.payload){var d=t.payload,s=d.ruleIndex,m=d.manipulatorIndex,f=d.fromObject;e.rules[s].manipulators[m].from=f}break;case"ADD_TO_OBJECT":if(t.payload){var v=t.payload,p=v.toField,_=v.ruleIndex,b=v.manipulatorIndex,y={repeat:!0},E=e.rules[_].manipulators[b];"to_if_canceled"===p||"to_if_invoked"===p?"to_if_canceled"===p?E.to_delayed_action.to_if_canceled.push(y):E.to_delayed_action.to_if_invoked.push(y):E[p].push(y)}break;case"SET_TO_OBJECT":if(t.payload){var h=t.payload,k=h.toField,g=h.ruleIndex,O=h.manipulatorIndex,j=h.toIndex,C=h.toObject;e.rules[g].manipulators[O][k][j]=C}}}))}));var We=function(){return l.a.createElement(Z.a,{store:Fe},l.a.createElement("div",{className:"App"},l.a.createElement(Te,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(We,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[83,1,2]]]);
//# sourceMappingURL=main.cbef322b.chunk.js.map